# iDeez
#### Video Demo:  https://youtu.be/4s7-Pf_gi4M
#### Description:
I came up with the idea for iDeez to solve a problem that I currently am experiencing at my work.  I work as a Product Manager for a company that does music licensing for TV, film and advertising.  Through my work with the company I work at, I vetted companies to help us manage our digital music rights, which is the use of technology to control and manage access to copyrighted material.  

We partnered with a vendor to help us manage our music rights on YouTube via YouTube's platform ContentID.  ContentID ingests music assets by audiofingerprinting them and scanning YouTube videos for usages of that audio.  From there, depending on settings, the content creator can dispute the copyright claim, remove the claimed content, or share revenue.  Managing our company's assets on ContentID has allowed us to participate in the advertising revenue generated by videos that have not properly licensed music from us.  As we license a fair amount of music to our clients with blanket licenses, it is important for us to be able to whitelist videos and channels that did in fact license our music so they do not receive claims.  Our vendor partner Orfium has developed the technology to manage this within ContentID.

The problem I was trying to solve was that as a user working wtih Orfium and ContentID, I needed easy access to video IDs and channel IDs from YouTube.  These platforms need these IDs to properly manage licenses.  To get these IDs, depending on the url of the video, the video ID is sitting in the path to copy, but some urls obscure it and you have to view the page source and find it.  For channel ids, it does not display in the url - the url displays a username.  You have to view the page source to find it.  When you are looking for a lot of videos or channels, this can take a long time.  And if you have to get a video and channel id for something, you have to do these actions for each ID.

To accomplish a tool to help get these IDs, I created a flask web application.  I created a python file called app.py that defines the routes and most importantly, the search function that allows a user to search by a YouTube video link to get the iDeez and other information and a contact function to send a message to iDeez.

I created an additional file called googleconnect.py that I imported into app.py that contains the functions that call Google's YouTube Data API as well as some other functions I needed for formatting numbers in Jinja.  I have a function called channelid() that uses the list function in the channel endpoint using a channelid and videoid() that uses the list method in the video enddpoint using a videoid.

App.py takes a YouTube video url as an argument and parses the url with the urllib.parse library.  It handles both standard YouTube urls and the shortened ones that are offered if you click "share" on a YouTube video.  I originally thought the design would take both video urls and channel urls and provide data associated with those respective endpoints depending on the link. However, I learned that the customURL that is dispalyed in the channel url does not always match a channel's username - which proved problematic.  Instead I limit the user the only put a video URL and in turn they get both video data and channel data, which is actually pretty nice.  In the backend what is happening is that the video url is parsed, the videoid is isolated and passed to the videoid() function.  This gets the JSON response from the API.  In that response is a channelid that is then passed to the channelid() function to get the channel id.

In app.py, there is also a mail() function.  This uses the smtplib library to facilitate sending an email with the contact form.  This was much harder design wise than I anticipated.  I thought I could use the Flask-mail library but everything seemed to have a dependcy on owning the domain.  I used pythonanywhere to host my web app, which I obviously don't own the domain.  Smtplib allowed me to use a gmail account I created and once I enabled 2-factor authentification, I was able to create an application password to share with the function so I could send an email from that account.

In my HTML templates, there is layout.html which uses Bootstrap CSS/Javacript and Shoelace CSS/Javascript for some styling and some responsive elements.  It also links to my own styles.css file, imports some GoogleFonts and has a nav bar and footer that carry over to all my other templates.  I have the index.html page that has the key search functionality as well as a banner that explains what the product does briefly.  I have getid.html that displays the API response in a table and embeds the YouTube video.  In it are copy buttons from Shoelace CSS that come with a Javascript function that copies those values into the user's clipboard.  It also prompts the user to search again instead of having to return back home to search another video.  I also have a standard about.html page with a description of the product, my background and some photos - similar to this README but without the technical explainations.

Lastly, I have tmeplates that relate to the contacting me.  Contact.html has the form for a user to fill out.  Contactsubmission.hmtl is the template I render that is used when the email is sent to me.  Mailsent.html lets the user know that the message was sent and then, again, prompts them to get more iDeez.

In static I have a number of images used in the About page (cs50.png, bythenumbers.png, youtubecontentid.png), a favicon.ico for the browser tab, a banner used in index.html and lastly my styles.css file.

I also have a styles.css file in static that contains all of my style elements.  There I set styles for my HTML, override some of the styles from Bootstrap and Shoelace and set some additional responsive styles to handle different screen sizes like on mobile devices.

Another design decision I needed to make was whether it was worth making users have a log in to use the service.  I decided that since I don't really see a use case for user's wanting to see videos or channels they got ids for in the past, I didn't really need a database to store that data.  Additionally, I didn't need to tie that data to a user.  I opted for the app to have a no barrier ease of use so that users can quickly get what they need and get out instead of logging in to complete their task.  I have a limited quota on how many requests I make using the Google YouTube Data API.  In the future, if I feel like I am constantly butting up against the quota, I can make log ins to limit how many users use the products - but that is not much of a concern at this time. 

Meta and ByteDance have recently rolled out some new digital rights management tools that are in beta, and I hope to expand this product to utilize APIs offered by those companies to get ids and data that will help with whitelisting, licensing and claiming on Facebook, Instagram and TikTok.  Other additional items for a potential roadmap could be allowing users to enter multiple video links, export the data as a report via a cron job or a combo of the two where someone can bulk uplaod youtube video urls and get back a report with data.  This would all be expensive token-wise on the API but would be pretty useful for my work and as a tool to my colleagues.  
